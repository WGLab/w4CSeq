<!DOCTYPE html>
<!-- saved from url=(0043)http://getbootstrap.com/examples/jumbotron/ -->
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="">
      <meta name="author" content="">
      <link rel="icon" href="../W4CSEQ_files/w4cseq-image.ico">
      <title>Sonication</title>
      <!-- Bootstrap core CSS -->
      <link href="../W4CSEQ_files/css/bootstrap.min.css" rel="stylesheet">
      <!-- Custom styles for this template -->
      <link href="../W4CSEQ_files/css/jumbotron.css" rel="stylesheet">
      <link href="../W4CSEQ_files/css/custom.css" rel="stylesheet">
      <link href="../W4CSEQ_files/css/carousel.css" rel="stylesheet">
      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!--[if lt IE 9]>
      <script src="../W4CSEQ_files/js/html5shiv.min.js"></script>
      <script src="../W4CSEQ_files/js/respond.min.js"></script>
      <![endif]-->
   </head>
   <body>
      <!-- Modal Start here-->
      <div class="modal fade bs-example-modal-sm" id="myPleaseWait" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
         <div class="modal-dialog modal-sm">
            <div class="modal-content">
               <div class="modal-header">
                  <h4 class="modal-title">
                     <span class="glyphicon glyphicon-time">
                     </span>Uploading. Please Wait.
                  </h4>
               </div>
               <div class="modal-body">
                  <div class="progress">
                     <div class="progress-bar progress-bar-info progress-bar-striped active" style="width: 100%">
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- Modal ends Here -->
      <div class="navbar-wrapper">
         <div class="container">
            <div class="navbar navbar-default navbar-fixed-top" role="navigation">
               <div class="container">
                  <div class="navbar-header col-md-2">
                     <!-- LOGO -->
                     <div class="logo logo-image">
                        <div class="logo-image">
                           <a href="../index.html">
                           <img class="logo-image" src="../W4CSEQ_files/w4cseq.png" style="height:100%">
                           </a>
                        </div>
                     </div>
                     <!-- END LOGO -->
                     <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                     <span class="sr-only">Toggle navigation</span>
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                     </button>
                  </div>
                  <div class="navbar-collapse collapse">
                     <ul class="nav navbar-nav">
                        <li class="dropdown">
                           <a href="#" class="active navbar_custom dropdown-toggle" data-toggle="dropdown">Home <span class="caret"></span></a>
                           <ul class="dropdown-menu" role="menu">
                              <li><a href="./Enzyme.html">Enzyme-based</a></li>
                              <li><a href="./Sonication.html">Sonication-based</a></li>
                           </ul>
                        </li>
                        <li><a class="navbar_custom" href="./Tutorial.html">Tutorial</a></li>
                        <li><a class="navbar_custom" href="./Contact.html">Contact</a></li>
                        <li><a class="navbar_custom" href="./FAQ.html">FAQ</a></li>
                        <li><a class="navbar_custom" href="./Example.html">Example</a></li>
                        
			<li class="dropdown">
			<a href="http://w4cseq.wglab.org/index.html#" class="navbar_custom dropdown-toggle" data-toggle="dropdown">Related projects <span class="caret"></span></a>
			<ul class="dropdown-menu" role="menu">
			  <li><a href="http://seqmule.openbioinformatics.org/">SeqMule</a></li>
			  <li><a href="http://enlight.wglab.org/">Enlight</a></li>
			  <li><a href="http://wannovar.wglab.org/">wANNOVAR</a></li>
			  <li><a href="http://icages.wglab.org/">iCAGES</a></li>
			  <li><a href="http://phenolyzer.wglab.org/">Phenolyzer</a></li>
			</ul>
			</li>
			
                     </ul>
                     <!-- LOGO -->
                     <div class="logo logo-image navbar-right col-md-3">
                        <div class="logo-image">
                           <a href="http://genomics.usc.edu/">
                           <img class="logo-image" src="../W4CSEQ_files/WGL_long.png" style="height:50px">
                           </a>
                        </div>
                     </div>
                     <!-- END LOGO -->
                  </div>
                  <!--/.nav-collapse -->
               </div>
            </div>
         </div>
      </div>
      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron" id="home">
         <div class="container">
            <h1>Sonication based 4C-Seq<br></h1>
            <p>
               w4CSeq applies a customized pipeline to deal with sonication fragmentation based 4C-Seq data, identifies statistically significant regions, draws interacting plots
               for intra-chromosome and inter-chromosome interactions, and overlays genomic features (TSS, TTS, CpG sites), DNA replication timing and user-provided annotation onto it. The
               combined plot will help uncover significant features in/around 4C regions. 
            </p>
            <!--<p><a class="btn btn-primary btn-lg" role="button">Get started Â»</a></p>-->
         </div>
      </div>
      <div id="container_for_main" class="container">
         <form method="post" action="/cgi-bin/Sonication.cgi" enctype="multipart/form-data" onsubmit="return check_before_submission();" class="form-horizontal" name="main">
            <h2>
               Basic Information
            </h2>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Email (optional)<a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Email for contact to receive result link when a submitted job is completed" data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input id="email_id" name="email" class="form-control" placeholder="Enter email to receive result link" type="email">
               </div>
            </div>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Input FASTQ file <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content=".gz format is accepted; two FASTQ files from paired-end sequencing are needed." data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-3">
                  <div id="query_file_div_id_1">
                     <input type="file" class="form-control" name="query1" id="query_file_id_1">
                  </div>
                  
               </div>
               <div class="col-sm-4">
                  <div id="query_file_div_id_2">
                     <input type="file" class="form-control" name="query2" id="query_file_id_2">
                  </div>
                  
                     <div style="display:none" id="query_example_label_div_id">
                        <input value="" type="hidden" class="form-control" name="upload" id="query_hidden_id">
                        <span id="query_example_label">
                        >>> Example Input loaded <<<
                        </span>
                     </div>
                     
               </div>
            </div>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Genome build <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Reference genome build you want to use" data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <div class="radio">
                     <label>
                     <input type="radio" name="ref" id= "ref_hg18" value="hg18" >hg18
                     </label>
                     <label>
                     <input type="radio" name="ref" id="ref_hg19" value="hg19" >hg19
                     </label>
                     <label>
                     <input type="radio" name="ref" id="ref_mm9" value="mm9" >mm9
                     </label>
                     <label>
                     <input type="radio" name="ref" id="ref_mm10" value="mm10">mm10
                     </label>
                  </div>
               </div>
            </div>
            <hr>
            <h2>
               <span title="bait region">Specify a bait region</span>
            </h2>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Bait chromosome
               <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Please enter the chromosome that inverse primers target , e.g. chr17" data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input value="" placeholder="Enter bait chromosome" name="baitchr" id="bait_chr" class="form-control" type="text">
               </div>
            </div>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Start position of inverse primer
               <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Please input the REVERSE targeted positions of inverse primer 3'end on Bait Chromosome, e.g. 35504676. " data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input value="" placeholder="Enter the targeted positions of reverse primer 3'end on Bait Chromosome" name="baitstart" id="bait_start" class="form-control" type="text">
               </div>
            </div>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               End position of inverse primer
               <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Please input the FORWARD targeted positions of inverse primer 3'end on Bait Chromosome, e.g. 35504824. " data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input value="" placeholder="Enter the targeted positions of forward primer 3'end on Bait Chromosome" name="baitend" id="bait_end" class="form-control" type="text">
               </div>
            </div>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Extended length
               <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Please input the extended length(bp) from the primer position for alignment purpose (default 500). " data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input value="500" placeholder="Enter the extended length(bp) from the primer position for alignment purpose (default 500bp)" name="extend" id="extend" class="form-control" type="text">
               </div>
            </div>
            <hr>
            <h2>
               <span title="parameters">Parameters for statistical analysis</span> 
            </h2>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Bin size for TRANS chromosome
               <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Please enter genomic bin size(bp) for statistical analysis of inter-chromosomal interactions; the default is 2000000" data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input value="2000000" placeholder="Enter genomic bin size(bp) for statistical analysis of inter-chromosomal interactions" name="trans_bin" class="form-control" type="text">
               </div>
            </div>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Bin size for CIS chromosome
               <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Please enter genomic bin size(bp) for statistical analysis of intra-chromosomal interactions; the default is 400000" data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input value="400000" placeholder="Enter genomic bin size(bp) for statistical analysis of intra-chromosomal interactions" name="cis_bin" class="form-control" type="text">
               </div>
            </div>
            <div class="form-group">
               <label class="col-sm-3 control-label">
               Window size for CIS chromosome
               <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Please enter genomic window size(bp) for statistical analysis of intra-chromosomal interactions; the default is 12000000" data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input value="12000000" placeholder="Enter genomic window size(bp) for statistical analysis of intra-chromosomal interactions" name="cis_window" class="form-control" type="text">
               </div>
            </div>
	    <div class="form-group">
               <label class="col-sm-3 control-label">
               False Discovery Rate (FDR)
               <a class="mypopover" tabindex="0" data-trigger="focus" data-toggle="popover" data-content="Please specify the FDR threshold to call out significant sites; the default is 0.05" data-original-title="" title=""><span class="glyphicon glyphicon-info-sign">
               </span></a>
               </label>
               <div class="col-sm-7">
                  <input value="0.05" placeholder="Specify the FDR threshold to call out significant sites" name="fdr" class="form-control" type="text">
               </div>
            </div>
            <hr>
            <!--
               <h2>
                  <span title="chip">Enrichment analysis of ChIP-Seq profiles around 4C interactions (Optional)<br></span> 
               </h2>
               -->
            <br><br>
            <h2>
               <span title="Optional">Optional: You can upload bed files for association analysis</span>
            </h2>
            <a href="#Foo" class="btn btn-info" data-toggle="collapse">Click to upload</a>
            <div id="Foo" class="collapse">
               <br>
               <a href="#control" class="btn btn-info" data-toggle="collapse">Click to add input</a>
               <div id="control" class="collapse">
                  <div class="form-group">
                     <label class="col-sm-6 control-label"> file #0 (input) </label>
                     <!--
                        <div class="col-sm-3">
                           <input value="" placeholder="Enter the name of file #0" name="upload_name0" class="form-control" type="text">
                        </div>
                        -->
                     <div class="col-sm-3" id="upload_file_div_id">
                        <input type="file" class="form-control" name="upload_file0" id="upload_file_id">
                     </div>
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #1 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #1" name="upload_name1" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file1" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #2 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #2" name="upload_name2" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file2" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #3 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #3" name="upload_name3" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file3" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #4 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #4" name="upload_name4" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file4" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #5 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #5" name="upload_name5" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file5" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #6 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #6" name="upload_name6" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file6" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #7 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #7" name="upload_name7" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file7" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #8 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #8" name="upload_name8" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file8" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #9 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #9" name="upload_name9" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file9" id="upload_file_id">
                  </div>
               </div>
               <div class="form-group">
                  <label class="col-sm-3 control-label"> file #10 Name </label>
                  <div class="col-sm-3">
                     <input value="" placeholder="Enter the name of file #10" name="upload_name10" class="form-control" type="text">
                  </div>
                  <div class="col-sm-3" id="upload_file_div_id">
                     <input type="file" class="form-control" name="upload_file10" id="upload_file_id">
                  </div>
               </div>
            </div>
            <br><br>
            <div class="form-group">
               <div class="col-sm-offset-3">
                  <input type="submit" name=".submit" class="btn btn-lg btn-primary">
                  <input type="reset" name=".reset" onclick="reset_custom()" class="col-sm-offset-1 btn btn-lg btn-primary">
		  <input type="button" value="Load Example" onclick="loadExample()" class="col-sm-offset-1 btn btn-lg btn-info"> 

               </div>
            </div>
            <br><br>        
            <h4>
               Please send questions or comments to <a href="mailto:caim@usc.edu">caim@usc.edu</a>
            </h4>
            <br>
            <hr>
            <br>
            <footer>
               <p class="pull-right"><a href="#">Back to top</a></p>
               <p>Â© Wang Genomics Lab 2010-2022</p>
            </footer>
      </div>
      </form> <!-- /container -->
      <!-- Bootstrap core JavaScript
         ================================================== -->
      <!-- Placed at the end of the document so the pages load faster -->
      <script src="../W4CSEQ_files/js/jquery.min.js"></script>
      <script src="../W4CSEQ_files/js/bootstrap.min.js"></script>
      <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
      <script src="../W4CSEQ_files/js/ie10-viewport-bug-workaround.js"></script>
      <script src="../W4CSEQ_files/js/app.js"></script>
      <script src="../W4CSEQ_files/js/bootstrap-dialog.min.js"></script>
      <link href="../W4CSEQ_files/css/bootstrap-dialog.min.css" rel="stylesheet" type="text/css">
      <!-- Check whther the parameters are correctly inputted-->
      <script type="text/javascript">
	
	function loadExample(){
	  $('#query_example_label_div_id').show();
	  $('#query_hidden_id').val('1');
	  $('#query_file_div_id_1').hide();
	  $('#query_file_div_id_2').hide();
	  
	  document.getElementById('ref_mm10').checked=true;
	  document.getElementById('bait_chr').value='chr17';
	  document.getElementById('bait_start').value='35504676';
	  document.getElementById('bait_end').value='35504824';
	  document.getElementById('extend').value='500';
	  BootstrapDialog.alert('Example input and settings have been loaded.');
	}
	
	function reset_custom(){
	  location.reload();
	}
	
         $(document).ready(function () {
         // Run this code only when the DOM (all elements) are ready
         
            $('form[name="main"]').on("submit", function (e) {
              // Find all <form>s with the name "submit", and bind a "submit" event handler
              
              // Find the <input /> element with the name "upload" and so on.
              var fil_name1 = $(this).find('input[name="query1"]');
              var fil_name2 = $(this).find('input[name="query2"]');
              //var ref_name = $(this).find('input[name="ref"]');
              //var enz_name = $(this).find('input[name="enz"]');
              
              var bait_chr = $(this).find('input[name="baitchr"]');
              var bait_sta = $(this).find('input[name="baitstart"]');
              var bait_end = $(this).find('input[name="baitend"]');
              var extd_len = $(this).find('input[name="extend"]');
              
              var bin_trans = $(this).find('input[name="trans_bin"]');
              var bin_cis = $(this).find('input[name="cis_bin"]');
              var window_cis = $(this).find('input[name="cis_window"]');
              
	      if ($('#query_hidden_id').val() != '1') {//user didn't choose the demo

		  if ($.trim(fil_name1.val()) === "" || $.trim(fil_name2.val()) === "") {
		      // If its value is empty
		      e.preventDefault();    // Stop the form from submitting
		      BootstrapDialog.alert('Please make sure that two files are uploaded (paired-end files) !');
		  }
		  
		  else if ($('input[name="ref"]:checked').length <= 0) {
		      // If its value is empty
		      e.preventDefault();    // Stop the form from submitting
		      BootstrapDialog.alert('Please select the genome build !');
		  }
		  
		  else if ($.trim(bait_chr.val()) === "") {
		      // If its value is empty
		      e.preventDefault();    // Stop the form from submitting
		      BootstrapDialog.alert('Please provide the bait chromosome !');
		  }
		  else if ($.trim(bait_sta.val()) === "") {
		      // If its value is empty
		      e.preventDefault();    // Stop the form from submitting
		      BootstrapDialog.alert('Please provide the bait starting position !');
		  }
		  else if ($.trim(bait_end.val()) === "") {
		      // If its value is empty
		      e.preventDefault();    // Stop the form from submitting
		      BootstrapDialog.alert('Please provide the bait ending position !');
		  }
		  else if ($.trim(extd_len.val()) === "") {
		      // If its value is empty
		      e.preventDefault();    // Stop the form from submitting
		      BootstrapDialog.alert('Please provide the extended length !');
		  }
		  else {
		      $('#myPleaseWait').modal('show');
		      //BootstrapDialog.alert('Please wait, your data is being uploaded !');
		  }
	      }
	      
	      else { //user chose the demo
		      $('#myPleaseWait').modal('show');
		      //BootstrapDialog.alert('Please wait, your data is being uploaded !');
	      }
		  
            });
          
         });
      </script>
      <!--end-->
      </div>
   </body>
</html>
